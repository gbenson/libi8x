// Recursive test::factorial
//  (examples/factorial/factorial.i8 from i8c)

define test::factorial returns int
    argument int x

    dup
    bgt 1, not_done_yet
    load 1
    return

not_done_yet:
    dup
    sub 1
    call factorial
    mul
